<div class="container">
  <div class="mx-auto" style="max-width: 80%" >
    <div class="row row-shop-title">
      <div class="col-lg-10 col-shop-name">
        <p><%= @shop.name %></p>
      </div>
      <div class="col-lg-2">
        <p id="shop-<%= @shop.id %>">
          <% if @shop.liked_by?(current_user) %>
            <%= render "like", shop: @shop %>
          <% else %>
            <%= render "dislike", shop: @shop %>
          <% end %>
        </p>
      </div>
    </div>

    <div class="row row-shop-score">
      <div class="col-lg-3 col-shop-score">
        <div class="average-score" data-score=<%= @shop.average_score %>><%= @shop.average_score %></div>
        <script>
          $('.average-score').empty();
            $('.average-score').raty({
              readOnly: true,
              starOn: "<%= asset_path('star-on.png') %>",
              starOff: "<%= asset_path('star-off.png') %>",
              starHalf: "<%= asset_path('star-half.png') %>",
              score: function() {
                return $(this).attr('data-score')
              }
            });
        </script>
      </div>
      <div class="col-lg-1 col-shop-average">
        <p><%= @shop.average_score %></p>
      </div>
      <div class="col-lg-2 col-shop-review">
        <div class="fas fa-comment-dots"> <%= @shop.reviews.count %> ä»¶</div>
      </div>
      <div class="col-lg-4 col-shop-like">
        <div class="fas fa-bookmark"></div>
      </div>
      <div class="col-lg-2 col-shop-likecount">
        <p id="shopcount-<%= @shop.id %>">
          <% if @shop.liked_by?(current_user) %>
            <%= render "likes_count", shop: @shop %>
          <% else %>
            <%= render "dislikes_count", shop: @shop %>
          <% end %>
        </p>
      </div>
    </div>

    <div class="row row-shop-content">
      <div class="col-lg-10">
        <p><%= @shop.area.name %> / <%= @shop.genre.name %></p>
        <p><%= @shop.access %></p>
      </div>
    </div>
  </div>
</div>
